# 测试设置指南

## 服务状态

✅ **所有服务已启动：**

- **后端服务**: http://localhost:4000
- **前端开发服务**: http://localhost:5173
- **HTML测试服务**: http://localhost:8081
- **测试页面**: http://localhost:8081/test-image-api.html

## 已修改内容

✅ **test-image-api.html** - 已更新以下内容：
1. 移除了 Gemini 2.5 Flash Image 选项
2. 仅保留 **Gemini 3 Pro Image Preview** 和 **Banana Pro**
3. 标题已更新为 "Gemini 3 & Banana Pro 图片生成和编辑测试"

## 如何访问测试页面

在浏览器中访问：
```
http://localhost:8081/test-image-api.html
```

## 测试步骤

### 1. 图片生成测试

#### Gemini 3 Pro 测试：
1. 打开测试页面
2. 选择 "图片生成" 标签
3. 输入提示词，例如：`一个红色的苹果在木桌上`
4. 模型选择：**Gemini 3 Pro Image Preview**
5. 点击 "生成图片"

#### Banana Pro 测试：
1. 输入提示词，例如：`一个蓝色的天空`
2. 模型选择：**Banana Pro**
3. 点击 "生成图片"

### 2. 图片编辑测试

#### Gemini 3 Pro 测试：
1. 选择 "图片编辑" 标签
2. 上传一张图片
3. 输入编辑提示词，例如：`将背景改为蓝色`
4. 模型选择：**Gemini 3 Pro Image Preview**
5. 点击 "编辑图片"

#### Banana Pro 测试：
1. 输入编辑提示词，例如：`添加闪电效果`
2. 模型选择：**Banana Pro**
3. 点击 "编辑图片"

## API 配置

- **API 基础 URL**: `http://localhost:3000/api` (如果使用公开API)
- **API Key**: 保持空白（仅在需要时填写）

## 故障排除

### 连接失败
- 确认后端服务正在运行：`http://localhost:4000`
- 检查网络连接
- 如果页面是从 file:// 打开，可能会遇到 CORS 问题，请使用 http://localhost:8081 访问

### API 错误
- 检查后端日志中的错误信息
- 确认 API Key 配置正确
- 验证所选模型是否支持

## 已配置的 API 密钥

后端 `.env` 文件包含：
- ✅ Google Gemini API Key
- ✅ Banana API Key
- ✅ RunningHub API Key

所有提供商已初始化：
- gemini (Google Gemini)
- gemini-pro (GeminiPro Provider)
- banana (Banana Provider)
- runninghub (RunningHub)
- midjourney (Midjourney - 可选)

## 快速启动命令

如果需要重启服务：

```bash
# 后端
cd /Users/litai/Documents/Development/dev/Tanva/backend
npm run dev

# 前端
cd /Users/litai/Documents/Development/dev/Tanva/frontend
npm run dev

# HTML测试服务
cd /Users/litai/Documents/Development/dev/Tanva/frontend
npx http-server -p 8081
```
