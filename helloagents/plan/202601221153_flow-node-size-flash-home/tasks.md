# 任务清单: flow_node_size_flash_home

目录: `helloagents/plan/202601221153_flow-node-size-flash-home/`

---

## 任务状态符号说明

| 符号 | 状态 | 说明 |
|------|------|------|
| `[ ]` | pending | 待执行 |
| `[√]` | completed | 已完成 |
| `[X]` | failed | 执行失败 |
| `[-]` | skipped | 已跳过 |
| `[?]` | uncertain | 待确认 |

---

## 执行状态
```yaml
总任务: 9
已完成: 1
完成率: 11%
```

---

## 任务列表

### 1. 定位与复现
- [ ] 1.1 复现场景：项目 → 返回首页 → 立即体验进入同一项目，记录节点尺寸变化与时间
  - 验证: 是否触发节点尺寸重新测量/布局更新
- [ ] 1.2 排查图片节点尺寸来源（ImageNode 渲染/测量逻辑）与 FlowOverlay 初始化时序
  - 验证: 初始尺寸是否为 0 或未稳定

### 2. 尺寸稳定性修复
- [-] 2.1 在 `frontend/src/components/flow/nodes/ImageNode.tsx` 增加首屏尺寸稳定性兜底（仅测量无效时使用缓存/延迟更新）
  - 验证: 首屏不出现放大
- [√] 2.2 在 `frontend/src/components/flow/FlowOverlay.tsx` 或相关初始化处触发一次尺寸校准（若需要）
  - 验证: 进入后尺寸稳定且不闪烁

### 3. 回归与安全检查
- [ ] 3.1 确认不影响 Flow 其他节点与交互（拖拽、缩放、连线）
  - 验证: 常规 Flow 操作正常
- [ ] 3.2 检查无新增保存/序列化风险
  - 验证: Flow data 无异常变化

### 4. 测试
- [ ] 4.1 手动验证：返回首页再进入项目后图片节点尺寸稳定
- [ ] 4.2 手动验证：切换项目 / 刷新进入 / 首次进入正常

### 5. 文档同步
- [ ] 5.1 评估是否需要更新 `helloagents/wiki/` 或 `frontend/docs/`，如无需更新说明原因

---

## 执行备注

> 执行过程中的重要记录

| 任务 | 状态 | 备注 |
|------|------|------|
| 2.1 | skipped | 优先通过首屏 viewport 同步避免放大闪烁，暂未调整 ImageNode |
